<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Marks System</title>
    <style>
      body {
        font-family: "Segoe UI", Arial, sans-serif;
        background: #f5f7fa;
        margin: 0;
        padding: 30px;
      }

      h2 {
        text-align: center;
        color: #333;
      }

      /* --- Table --- */
      table {
        margin: 20px auto;
        border-collapse: collapse;
        width: 500px;
        background: #fff;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      }

      th,
      td {
        border: 1px solid #ddd;
        padding: 10px 14px;
        text-align: left;
      }

      th {
        background: #4a90e2;
        color: #fff;
      }

      /* --- Buttons --- */
      .btn-group {
        text-align: center;
        margin: 10px;
      }

      button {
        background: #4a90e2;
        border: none;
        color: #fff;
        padding: 8px 12px;
        margin: 5px;
        border-radius: 4px;
        cursor: pointer;
        transition: background 0.2s;
      }

      button:hover {
        background: #357ab9;
      }

      /* --- Add form --- */
      .add-form {
        text-align: center;
        margin-top: 20px;
      }

      .add-form input {
        padding: 6px 8px;
        margin: 5px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      /* --- Message area --- */
      #msg {
        text-align: center;
        font-weight: bold;
        color: #333;
        margin-top: 15px;
      }
    </style>
  </head>
  <body>
    <h2>Student Marks System</h2>

    <table id="studentTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>Marks</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div class="btn-group">
      <button id="showHighestBtn">Show Highest</button>
      <button id="showAverageBtn">Show Average</button>
      <button id="sortBtn">Sort by Marks</button>
      <button id="removeBtn">Remove Last</button>
      <button id="resetBtn">Reset Sample</button>
    </div>

    <div class="add-form">
      <input id="newName" placeholder="Student name" />
      <input id="newMarks" type="number" placeholder="Marks (0-100)" />
      <button id="addStudentBtn">Add Student</button>
    </div>

    <div id="msg"></div>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        let students = [
          { name: "Divya", marks: 98 },
          { name: "Karan", marks: 95 },
          { name: "Priya", marks: 92 },
          { name: "Sneha", marks: 88 },
          { name: "Amit", marks: 85 },
          { name: "Rahul", marks: 76 }
        ];

        const tbody = document.querySelector('#studentTable tbody');
        const msg = document.getElementById('msg');

        function renderTable() {
          tbody.innerHTML = '';
          students.forEach(s => {
            const tr = document.createElement('tr');
            tr.innerHTML = <td>${s.name}</td><td>${s.marks}</td>;
            tbody.appendChild(tr);
          });
        }

        function showHighest() {
          if (!students.length) { msg.textContent = 'No students'; return; }
          const max = students.reduce((a, b) => a.marks > b.marks ? a : b);
          msg.textContent = Highest: ${max.name} (${max.marks});
        }

        function showAverage() {
          if (!students.length) { msg.textContent = 'No students'; return; }
          const avg = students.reduce((s, x) => s + x.marks, 0) / students.length;
          msg.textContent = Average Marks: ${avg.toFixed(2)};
        }

        function sortByMarks() {
          students.sort((a,b) => b.marks - a.marks);
          renderTable();
          msg.textContent = 'Sorted by marks (highest â†’ lowest)';
        }

        function removeLast() {
          if (!students.length) { msg.textContent = 'No students to remove'; return; }
          students.pop();
          renderTable();
          msg.textContent = 'Removed last student';
        }

        function addStudent() {
          const name = document.getElementById('newName').value.trim();
          const marks = parseInt(document.getElementById('newMarks').value, 10);
          if (!name || Number.isNaN(marks)) {
            alert('Enter valid name and marks');
            return;
          }
          students.push({ name, marks });
          document.getElementById('newName').value = '';
          document.getElementById('newMarks').value = '';
          renderTable();
          msg.textContent = Added ${name};
        }

        function resetSample() {
          students = [
            { name: "Divya", marks: 98 },
            { name: "Karan", marks: 95 },
            { name: "Priya", marks: 92 },
            { name: "Sneha", marks: 88 },
            { name: "Amit", marks: 85 },
            { name: "Rahul", marks: 76 }
          ];
          renderTable();
          msg.textContent = '';
        }

        // Attach event listeners
        document.getElementById('showHighestBtn').addEventListener('click', showHighest);
        document.getElementById('showAverageBtn').addEventListener('click', showAverage);
        document.getElementById('sortBtn').addEventListener('click', sortByMarks);
        document.getElementById('removeBtn').addEventListener('click', removeLast);
        document.getElementById('addStudentBtn').addEventListener('click', addStudent);
        document.getElementById('resetBtn').addEventListener('click', resetSample);

        renderTable();
      });
    </script>
  </body>
</html>
